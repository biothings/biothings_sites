<!-- Header -->
<header id="headerComp">
  <nav id="nav" class="navbar navbar-expand-lg navbar-dark w-100 fixed-top">
    <a class="navbar-brand logoFont" href="/" id="headlogo">
      <span class="d-none d-md-block">My<span class="text-main" v-text="snType"></span>.info</span>
      <i class="fas fa-home d-block d-md-none"></i>
    </a>
    <li class="nav-item dropup d-block d-md-none">
      <a class="nav-link dropdown-toggle font-weight-bold text-light btn btn-main btn-sm" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">More APIs</a>
      <div class="dropdown-menu bg-dark pb-0">
        <div class="dropdown-item">
          <a target="_blank" href="https://mygene.info/" v-on:mouseover="handleHover('MyGene.info')" class=" text-light">My<span class="text-blue">Gene</span>.info <i class="fas fa-chevron-right"></i></a>
        </div>
        <div class="dropdown-item">
          <a target="_blank" href="https://myvariant.info/" v-on:mouseover="handleHover('MyVariant.info')" class=" text-light">My<span class="text-green">Variant</span>.info <i class="fas fa-chevron-right"></i></a>
        </div>
        <div class="dropdown-item">
          <a target="_blank" href="https://mychem.info/" v-on:mouseover="handleHover('MyChem.info')" class=" text-light">My<span class="text-orange">Chem</span>.info <i class="fas fa-chevron-right"></i></a>
        </div>
        <div class="dropdown-divider"></div>
        <div class="dropdown-item">
          <a target="_blank" href="https://biothings.io/" v-on:mouseover="handleHover('BioThings')" class=" text-light">BioThings.io <i class="fas fa-chevron-right"></i></a>
        </div>
      </div>
    </li>
    <a role="button" class="nav-item nav-link text-light btn btn-main btn-sm d-block d-md-none" :href="tryItLink">Try It <i class="fas fa-cube"></i></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
      <i class="fas fa-plus text-light"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
      <div class="navbar-nav">
        <a class="nav-item nav-link" href="/about">About</a>
        <a class="nav-item nav-link" :href="uptimeLink" target="_blank">Status <i class="fas fa-external-link-square-alt text-main"></i></a>
        <a class="nav-item nav-link" :href="tryItLink">Try Live API</a>
        <a class="nav-item nav-link" :href="docsLink" target="_blank">Docs <i class="fas fa-external-link-square-alt text-main"></i></a>
        <a class="nav-item nav-link" href="/faq">FAQ</a>
        <a class="nav-item nav-link" href="/blog">News</a>
        <a class="nav-item nav-link" :href="brandingLink" target="_blank">Branding <i class="fas fa-external-link-square-alt text-main"></i></a>
        <a class="nav-item nav-link" href="/support-us">Support Us</a>
        <li class="nav-item dropdown d-none d-md-block">
          <a class="nav-link dropdown-toggle dropright font-weight-bold text-light" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">More BioThings APIs</a>
          <div class="dropdown-menu bg-dark pb-0">
            <div class="dropdown-item">
              <a target="_blank" href="https://mygene.info/" v-on:mouseover="handleHover('MyGene.info')" class="logoFont bg-transparent text-light">My<span class="text-blue">Gene</span>.info <i class="fas fa-chevron-right"></i></a>
            </div>
            <div class="dropdown-item">
              <a target="_blank" href="https://myvariant.info/" v-on:mouseover="handleHover('MyVariant.info')" class="logoFont bg-transparent text-light">My<span class="text-green">Variant</span>.info <i class="fas fa-chevron-right"></i></a>
            </div>
            <div class="dropdown-item">
              <a target="_blank" href="https://mychem.info/" v-on:mouseover="handleHover('MyChem.info')" class="logoFont bg-transparent text-light">My<span class="text-orange">Chem</span>.info <i class="fas fa-chevron-right"></i></a>
            </div>
            <div class="dropdown-divider"></div>
            <div class="dropdown-item">
              <a target="_blank" href="https://biothings.io/" v-on:mouseover="handleHover('BioThings')" class="logoFont bg-transparent text-light">BioThings.io <i class="fas fa-chevron-right"></i></a>
            </div>
            <div class="dropdown-item" :class="backgroundclss">
              <canvas class="apicanvas" width="250" height="250" style="max-width:250px !important;max-height:250px !important;"></canvas>
              <h5 :class="textclss" v-text="hovered" class="text-center logoFont"></h5>
            </div>
          </div>
        </li>
        <a class="nav-item nav-link font-weight-bold neon pointer text-light" data-toggle="modal" data-target="#exampleModal">
          Stay Updated <i class="fas fa-bolt text-main"></i>
        </a>
        <a class="nav-item nav-link d-sm-block d-lg-none d-md-none" href="http://biothings.io/">BioThings API <i class="fas fa-chevron-right text-main"></i></a>
        <a class="nav-item nav-link d-sm-block d-lg-none d-md-none" href="http://mygene.info/">MyGene.info <i class="fas fa-chevron-right text-main"></i></a>
        <a class="nav-item nav-link d-sm-block d-lg-none d-md-none" href="http://myvariant.info/">MyVariant.info <i class="fas fa-chevron-right text-main"></i></a>
        <a class="nav-item nav-link d-sm-block d-lg-none d-md-none" href="http://mychem.info/">MyChem.info <i class="fas fa-chevron-right text-main"></i></a>
      </div>
    </div>
</nav>

<!-- Modal -->
<div class="modal" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="">
  <div class="modal-dialog" role="document">
    <div class="modal-content bg-dark p-0">
      <div class="modal-header bg-dark text-light no-border">
        <button type="button" class="close text-warning" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body bg-dark text-light no-border">
        <a target="_blank" href="http://groups.google.com/group/biothings/boxsubscribe" rel="noreferrer">
          <img width="100%" class="join" src="/static/img/join.jpg" alt="Google Group"/>
        </a>
        <h3 class="text-light mt-2 text-center">Join our group! It's easy!</h3>

        <ul>
          <li>
            Get notified about new version releases
          </li>
          <li>
            Contribute and report bugs/ suggest improvements
          </li>
          <li>
            Be the first to learn about new products and updates
          </li>
        </ul>
      </div>
      <div class="modal-footer text-light no-border bg-main-medium">
        <small>Need Help? <a href="/#need-help">Click Here</a></small>
      </div>
    </div>
  </div>
</div>
</header>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.4.2/vue.min.js"></script>
<script src="https://unpkg.com/zdog@1/dist/zdog.dist.min.js"></script>
<script>
var app = new Vue({
  el: '#headerComp',
  data: function(){
    return {
      textclss:'',
      backgroundclss:'',
      hovered:'',
      sn:'',
      snType:'',
      tryItLink:'',
      brandingLink:'',
      docsLink:'',
      uptimeLink:'',
      box:null,
      box2: null,
      box3: null,
      box4: null,
      box5: null,
      box6: null,
      box7: null,
    }
  },
  watch:{
  },
  methods:{
    resetBoxes(){
      this.box.color= '#808080'//GREY
      this.box.leftFace= '#B3B3B3'//GREY
      this.box.rightFace= '#808080'//GREY
      this.box.topFace= '#E6E6E6'//GREY
      this.box.bottomFace= '#808080'//GREY

      this.box2.color= '#808080'//GREY
      this.box2.leftFace= '#B3B3B3'//GREY
      this.box2.rightFace= '#808080'//GREY
      this.box2.topFace= '#E6E6E6'//GREY
      this.box2.bottomFace= '#808080'//GREY

      this.box3.color= '#808080'//GREY
      this.box3.leftFace= '#B3B3B3'//GREY
      this.box3.rightFace= '#808080'//GREY
      this.box3.topFace= '#E6E6E6'//GREY
      this.box3.bottomFace= '#808080'//GREY

      this.box4.color= '#808080'//GREY
      this.box4.leftFace= '#B3B3B3'//GREY
      this.box4.rightFace= '#808080'//GREY
      this.box4.topFace= '#E6E6E6'//GREY
      this.box4.bottomFace= '#808080'//GREY

      this.box5.color= '#808080'//GREY
      this.box5.leftFace= '#B3B3B3'//GREY
      this.box5.rightFace= '#808080'//GREY
      this.box5.topFace= '#E6E6E6'//GREY
      this.box5.bottomFace= '#808080'//GREY

      this.box6.color= '#808080'//GREY
      this.box6.leftFace= '#B3B3B3'//GREY
      this.box6.rightFace= '#808080'//GREY
      this.box6.topFace= '#E6E6E6'//GREY
      this.box5.bottomFace= '#808080'//GREY

      this.box7.color= '#808080'//GREY
      this.box7.leftFace= '#B3B3B3'//GREY
      this.box7.rightFace= '#808080'//GREY
      this.box7.topFace= '#E6E6E6'//GREY
      this.box7.bottomFace= '#808080'//GREY

    },
    handleHover(item){
      this.hovered= item;
      switch (item) {
        case "MyGene.info":
          this.textclss='text-blue';
          this.backgroundclss='blackTransBack-blue'
          this.resetBoxes();
          this.box6.bottomFace= '#808080'//Glitches so must reset indiviadually

          this.box.color= '#3366CC'//dark
          this.box.leftFace= '#2A7FE2'//medium
          this.box.rightFace= '#3366CC'//dark
          this.box.topFace= '#669BE8'//light
          this.box.bottomFace= '#3366CC'//dark

          this.box5.color= '#3366CC'//dark
          this.box5.leftFace= '#2A7FE2'//medium
          this.box5.rightFace= '#3366CC'//dark
          this.box5.topFace= '#669BE8'//light
          this.box5.bottomFace= '#3366CC'//dark

          this.box7.color= '#3366CC'//dark
          this.box7.leftFace= '#2A7FE2'//medium
          this.box7.rightFace= '#3366CC'//dark
          this.box7.topFace= '#669BE8'//light
          this.box7.bottomFace= '#3366CC'//dark

          break;
        case "MyVariant.info":
          this.textclss='text-green';
          this.backgroundclss='blackTransBack-green'

          this.resetBoxes();
          this.box6.bottomFace= '#808080'//Glitches so must reset indiviadually

          this.box.color= '#40B307'//dark
          this.box.leftFace= '#67CF2E'//medium
          this.box.rightFace= '#40B307'//dark
          this.box.topFace= '#85D958'//light
          this.box.bottomFace= '#40B307'//dark

          this.box2.color= '#40B307'//dark
          this.box2.leftFace= '#67CF2E'//medium
          this.box2.rightFace= '#40B307'//dark
          this.box2.topFace= '#85D958'//light
          this.box2.bottomFace= '#40B307'//dark

          this.box6.color= '#40B307'//dark
          this.box6.leftFace= '#67CF2E'//medium
          this.box6.rightFace= '#40B307'//dark
          this.box6.topFace= '#85D958'//light
          this.box6.bottomFace= '#40B307'//dark

          break;
        case "MyChem.info":
          this.textclss='text-orange';
          this.backgroundclss='blackTransBack-orange'

          this.resetBoxes();
          this.box6.bottomFace= '#808080'//Glitches so must reset indiviadually

          this.box.color= '#CC6633'//dark
          this.box.leftFace= '#FD7400'//medium
          this.box.rightFace= '#CC6633'//dark
          this.box.topFace= '#FF8E39'//light
          this.box.bottomFace= '#CC6633'//dark

          this.box3.color= '#CC6633'//dark
          this.box3.leftFace= '#FD7400'//medium
          this.box3.rightFace= '#CC6633'//dark
          this.box3.topFace= '#FF8E39'//light
          this.box3.bottomFace= '#CC6633'//dark

          this.box4.color= '#CC6633'//dark
          this.box4.leftFace= '#FD7400'//medium
          this.box4.rightFace= '#CC6633'//dark
          this.box4.topFace= '#FF8E39'//light
          this.box4.bottomFace= '#CC6633'//dark

          break;
        case "BioThings":
          this.textclss='text-warning';
          this.backgroundclss='blackTransBack-yellow'

          this.resetBoxes();
          this.box6.bottomFace= '#808080'//Glitches so must reset indiviadually

          break;
        default:
          this.textclss='';
          this.backgroundclss=''
      }
    },
    startAnimation(){

      let illo = new Zdog.Illustration({
        element: '.apicanvas',
        dragRotate: true,
        rotate:{z:33},
        scale:.7
      });

      let anchor = new Zdog.Anchor({
        addTo: illo,
      });

      this.box = new Zdog.Box({
        addTo: anchor,
        width: 50,
        height: 50,
        depth: 50,
        stroke: true,
        color: '#808080',//GREY
        leftFace: '#B3B3B3',//GREY
        rightFace: '#808080',//GREY
        topFace: '#E6E6E6',//GREY
        bottomFace: '#808080',//GREY
        rotate:{x:-.5,y:-.8}
      });

      this.box2 = this.box.copy({
        // overwrite original options
        translate: { x: 70 },
        color: '#808080',//GREY
        leftFace: '#B3B3B3',//GREY
        rightFace: '#808080',//GREY
        topFace: '#E6E6E6',//GREY
        bottomFace: '#808080',//GREY
      });

      this.box3 = this.box.copy({
        // overwrite original options
        translate: { x: 35,y:60,z:5 },
        color: '#808080',//GREY
        leftFace: '#B3B3B3',//GREY
        rightFace: '#808080',//GREY
        topFace: '#E6E6E6',//GREY
        bottomFace: '#808080',//GREY
      });

      this.box4 = this.box.copy({
        // overwrite original options
        translate: { x: -35,y:60,z:5 },
        color: '#808080',//GREY
        leftFace: '#B3B3B3',//GREY
        rightFace: '#808080',//GREY
        topFace: '#E6E6E6',//GREY
        bottomFace: '#808080',//GREY
      });

      this.box5 = this.box.copy({
        // overwrite original options
        translate: { x: -35,y:-60,z:-5 },
        color: '#808080',//GREY
        leftFace: '#B3B3B3',//GREY
        rightFace: '#808080',//GREY
        topFace: '#E6E6E6',//GREY
        bottomFace: '#808080',//GREY
      });

      this.box6 = this.box.copy({
        // overwrite original options
        translate: { x: 35,y:-60,z:-5 },
        color: '#808080',//GREY
        leftFace: '#B3B3B3',//GREY
        rightFace: '#808080',//GREY
        topFace: '#E6E6E6',//GREY
        bottomFace: '#808080',//GREY
      });

      this.box7 = this.box.copy({
        // bottom left
        translate: { x: -70,y:0,z:0 },
        color: '#808080',//GREY
        leftFace: '#B3B3B3',//GREY
        rightFace: '#808080',//GREY
        topFace: '#E6E6E6',//GREY
        bottomFace: '#808080',//GREY
      });


      function animate() {
        // rotate
        illo.rotate.y += -0.01;
        illo.updateRenderGraph();
        requestAnimationFrame( animate );
      }

      animate();
    }
},
mounted:function(){
  var self = this;
  self.startAnimation();

  self.sn = "{{site_name}}"
  // site specific classes and settings
  if (self.sn) {
    switch (self.sn) {
      case "MyGene.info":
        self.tryItLink='/v3/api';
        self.snType='Gene';
        self.brandingLink = 'http://biothings.io/branding#mygene-branding';
        self.docsLink = 'https://docs.mygene.info/en/latest/index.html';
        self.uptimeLink ='https://stats.uptimerobot.com/7y2AFWAE';
        break;
      case "MyChem.info":
        self.tryItLink='/v1/api';
        self.snType='Chem';
        self.brandingLink = 'http://biothings.io/branding#mychem-branding';
        self.docsLink = 'https://docs.mychem.info/en/latest/index.html';
        self.uptimeLink ='https://stats.uptimerobot.com/QKBOh5WJ';
        break;
      case "MyVariant.info":
        self.tryItLink='/v1/api';
        self.snType='Variant';
        self.brandingLink = 'http://biothings.io/branding#myvariant-branding';
        self.docsLink = 'https://docs.myvariant.info/en/latest/index.html';
        self.uptimeLink ='https://stats.uptimerobot.com/polzSx91';
        break;
      case "MyDisease.info":
        self.tryItLink='/v1/api';
        self.snType='Disease';
        self.brandingLink = 'http://biothings.io/branding#mydisease-branding';
        self.docsLink = 'https://docs.mydisease.info/en/latest/index.html';
        self.uptimeLink ='https://stats.uptimerobot.com/wyvkFLPKV';
        break;
      default:
        // default is Mygene
    //     self.tryItLink='/v3/api';
    //     self.snType='Gene';
    //     self.brandingLink = 'http://biothings.io/branding#mygene-branding';
    //     self.docsLink = 'https://docs.mygene.info/en/latest/index.html';
    //     self.uptimeLink ='https://stats.uptimerobot.com/7y2AFWAE';
    // }
  }

}
})
</script>
